<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Watch & Earn — Music Videos + Adsterra</title>
<style>
  :root{
    --bg:#0f1720; --card:#0b1220; --accent:#ffb84d; --muted:#9aa8b2; --glass:rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial; background:linear-gradient(180deg,#071225,#0d1724); color:#e6eef6; -webkit-font-smoothing:antialiased;}
  .wrap{max-width:1100px;margin:28px auto;padding:18px;}
  header{display:flex;align-items:center;gap:12px;margin-bottom:18px}
  .logo{width:52px;height:52px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#ff8a4d);display:flex;align-items:center;justify-content:center;color:#000;font-weight:900}
  h1{font-size:18px;margin:0 0 0 6px}
  .topRow{display:flex;gap:14px;align-items:center;margin-top:10px;flex-wrap:wrap}
  .card{background:var(--card);border-radius:12px;padding:14px;border:1px solid var(--glass);box-shadow:0 6px 18px rgba(3,6,12,0.6)}
  .balanceCard{flex:1;min-width:260px}
  .bigBtn{background:linear-gradient(90deg,var(--accent),#ff8a4d);color:#000;border:none;padding:12px 18px;border-radius:10px;font-weight:800;cursor:pointer}
  .muted{color:var(--muted);font-size:13px}
  main{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:18px}
  @media (max-width:980px){ main{grid-template-columns:1fr} }
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:12px}
  .thumbCard{display:flex;flex-direction:column;gap:8px;cursor:pointer}
  .thumb{height:140px;background:#071321;border-radius:8px;display:flex;align-items:center;justify-content:center;color:var(--muted);overflow:hidden}
  .thumb img{width:100%;height:100%;object-fit:cover}
  .metaSmall{font-size:13px;color:var(--muted)}
  .walletSmall{display:flex;flex-direction:column;gap:8px}
  label{font-size:13px;color:var(--muted);display:block;margin-top:8px}
  input,select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
  .requests{max-height:260px;overflow:auto;margin-top:8px}
  .note{font-size:13px;color:var(--muted)}
  .footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  .status{font-size:13px;color:var(--muted);margin-top:6px}
  .smallBtn{padding:8px 10px;border-radius:8px;border:1px solid var(--glass);background:transparent;color:inherit;cursor:pointer}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">W&E</div>
      <div>
        <h1>Watch & Earn — Music Videos</h1>
        <div class="muted">Click thumbnail → Ad opens + video starts</div>
      </div>
    </header>

    <div class="topRow">
      <div class="card balanceCard">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <div class="muted">Balance</div>
            <div id="balanceDisplay" style="font-size:22px;font-weight:800">₹0.00</div>
          </div>
          <div style="text-align:right">
            <div class="muted">Today</div>
            <div id="todayDisplay" style="font-weight:700">₹0.00</div>
            <div class="muted" style="margin-top:6px">Points</div>
            <div id="pointsDisplay" style="font-weight:700">0</div>
          </div>
        </div>
      </div>

      <div class="card walletSmall" style="min-width:260px;max-width:360px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><div style="font-weight:800">Wallet</div><div class="muted">Client-side demo</div></div>
          <div style="text-align:right"><div class="muted">Total</div><div id="totalDisplay" style="font-weight:800">₹0.00</div></div>
        </div>
        <div>
          <label>Withdraw Method</label>
          <select id="payMethod"><option>UPI</option><option>PayPal</option><option>Bank</option></select>
          <label>Account / UPI</label>
          <input id="payAccount" placeholder="example@upi or email" />
          <label>Amount (₹)</label>
          <input id="payAmount" type="number" min="1" />
          <button id="btnRequestWithdraw" class="bigBtn" style="margin-top:10px;background:#1f2937;color:var(--accent)">Request Withdraw</button>
          <div class="muted" style="margin-top:10px">Requests</div>
          <div class="requests" id="requestsList"></div>
        </div>
      </div>
    </div>

    <main>
      <section>
        <div style="font-weight:800">Videos</div>
        <div class="grid" id="videoGrid"></div>
        <div style="margin-top:12px;display:flex;justify-content:center">
          <button id="loadMore" class="smallBtn">Load more</button>
        </div>
      </section>
      <aside>
        <div class="card">
          <div style="font-weight:800">Activity</div>
          <div class="muted" style="margin-top:8px">Recent credits</div>
          <div id="activityLog" style="margin-top:12px;max-height:320px;overflow:auto"></div>
        </div>
      </aside>
    </main>
    <div class="footer">Demo only — integrate server-side for real payouts.</div>
  </div>

<script>
/* ====== CONFIG ====== */
const ADS = [
  "https://www.revenuecpmgate.com/c2fnhr5cn?key=7fd75f43460dfa449333f730863687bc",
  "https://www.revenuecpmgate.com/bq64ih051?key=f87f655176f7b9e9ce85c2f1fc646ab8",
  "https://www.revenuecpmgate.com/yye1cnw7j?key=67d40bcede8263d56d549f28535fbdd7",
  "https://www.revenuecpmgate.com/sf09nhwpxa?key=0b20989fb8c69274128d820e558a371c",
  "https://www.revenuecpmgate.com/zadxbcjjq?key=30a19e77b6a59787b381652f91ab3984",
  "https://www.revenuecpmgate.com/mca2w9dw8?key=3553c3898aba9dcdb66f7c4a20d8afc0",
  "https://www.revenuecpmgate.com/w0vtcfj5q?key=367e7e916e860b35befdbe45dc0388a4",
  "https://www.revenuecpmgate.com/h1z8zgsqpa?key=0f2b818b6f9f23015095da1437b5097b"
];

// convert full YouTube URLs or YouTube short URLs to just video IDs
function extractYouTubeID(url){
  // patterns to consider: youtu.be/ID, youtube.com/watch?v=ID
  let id = null;
  try {
    const u = new URL(url);
    if(u.hostname.includes("youtu.be")){
      id = u.pathname.slice(1);  // after slash
    } else if(u.hostname.includes("youtube.com")){
      id = u.searchParams.get("v");
    }
  } catch(e){
    // maybe passed direct ID
    id = url;
  }
  return id;
}

// Your music video list
const MUSIC_VIDEOS = [
  "https://youtu.be/Zq9pRK_-oiI?si=wFrthPVyi2q5ouu8",
  "https://youtu.be/ZjpZCBMNMXE?si=Jk83iZ1clJr2VtLg",
  "https://youtu.be/hhMEFaeBm1Y?si=tOAeIRdRrSkmJWbh",
  "https://youtu.be/LSakRaD6-7s?si=3XZGMT_GLpqOQmOK",
  "https://youtu.be/JiF9anzVqM4?si=nGeRFgqVlca8C3yV",
  "https://youtu.be/wWP39L7DM8o?si=wdrwZOc-EpMv4e0M",
  "https://youtu.be/Pr1OdTzZDpQ?si=VaBynwQ6gwiFGhb7",
  "https://youtu.be/8of5w7RgcTc?si=aGiTjK5IgDMXiaaQ"
];

// extract IDs
const VIDEO_POOL = MUSIC_VIDEOS.map(u => extractYouTubeID(u)).filter(Boolean);

// reward + points etc.
const REWARD_PER = 0.5, POINTS_PER = 5;
let state={balance:0,total:0,today:0,points:0,activity:[]};

// UI refs
const balanceDisplay = document.getElementById('balanceDisplay');
const todayDisplay = document.getElementById('todayDisplay');
const totalDisplay = document.getElementById('totalDisplay');
const pointsDisplay = document.getElementById('pointsDisplay');
const activityLog = document.getElementById('activityLog');

function fmt(x){ return "₹"+Number(x||0).toFixed(2); }
function now(){ return new Date().toLocaleString(); }
function pushActivity(text){
  state.activity.unshift({t:now(),text});
  if(state.activity.length>200) state.activity.pop();
  renderActivity();
}
function renderActivity(){
  activityLog.innerHTML = state.activity.length ?
    state.activity.map(a=>`<div style="padding:6px;background:rgba(255,255,255,0.04);margin-bottom:6px;border-radius:6px"><div style="font-size:12px;color:var(--muted)">${a.t}</div><div>${a.text}</div></div>`).join('') :
    `<div class="muted">No activity yet</div>`;
}

function updateUI(){
  balanceDisplay.innerText = fmt(state.balance);
  todayDisplay.innerText = fmt(state.today);
  totalDisplay.innerText = fmt(state.total);
  pointsDisplay.innerText = state.points;
}

// Video grid logic
let rendered = 0;
function createCard(i){
  const vid = VIDEO_POOL[i % VIDEO_POOL.length];
  const el = document.createElement('div');
  el.className = 'thumbCard card';
  el.innerHTML = `
    <div class="thumb" id="thumb-${i}">
      <img src="https://i.ytimg.com/vi/${vid}/hqdefault.jpg" alt="thumb"/>
    </div>
    <div style="display:flex;justify-content:space-between">
      <div>Music #${i+1}</div>
      <div class="metaSmall">ID:${vid}</div>
    </div>
  `;
  el.addEventListener('click', ()=>{
    const ad = ADS[Math.floor(Math.random()*ADS.length)];
    try { window.open(ad, "_blank","noopener"); } catch(e){}
    const thumbDiv = el.querySelector(`#thumb-${i}`);
    thumbDiv.innerHTML = `
      <iframe width="100%" height="200"
        src="https://www.youtube.com/embed/${vid}?autoplay=1"
        frameborder="0"
        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen style="border-radius:8px"></iframe>
    `;
    // credit
    state.balance += REWARD_PER;
    state.total += REWARD_PER;
    state.today += REWARD_PER;
    state.points += POINTS_PER;
    pushActivity(`+${fmt(REWARD_PER)} credited (points +${POINTS_PER})`);
    updateUI();
  });
  return el;
}
function renderNext(batch=4){
  const grid = document.getElementById('videoGrid');
  for(let i=0;i<batch;i++){
    grid.appendChild(createCard(rendered+i));
  }
  rendered += batch;
}

// init
document.getElementById('loadMore').addEventListener('click', ()=> renderNext(4));
updateUI();
renderNext(4);
</script>
</body>
</html>
